# 小说写作项目 - 第二阶段完成说明

> 基于两层判断机制 + 8 个 Skills 的小说写作系统

---

## ✅ 第二阶段已完成内容

### 1. 已创建的新 Skills

#### Skill 1: 需求理解与大纲保存
**文件**: `skills/01-save-outline.md`

**核心功能**:
- 收集用户需求（类型、题材、风格、目标读者等）
- 整理成设定文档
- 保存到 `_briefs/` 文件夹
- 文件命名：`小说名-设定brief.md`

**核心内容**:
- 基本信息（小说名称、类型、风格、目标读者）
- 世界观设定（时间背景、地点、世界规则）
- 主要人物设定（主角、配角、反派）
- 核心冲突（主要矛盾、外部冲突、内部冲突）
- 写作规划（预计字数、章节规划）

---

#### Skill 2: 信息搜索与知识管理
**文件**: `skills/02-research-knowledge.md`

**核心功能**:
- 自动化搜索验证设定准确性
- 保存到 `_knowledge_base/` 文件夹
- 文件命名：`主题-时间.md`

**核心原则**:
- 必须搜索验证 > 一切（AI 训练数据可能过时）
- 信息来源优先级（权威科技媒体 > 社区论坛 > 知乎/百度 2025 年之前）

**搜索渠道**:
- 优先：权威科技媒体（TechCrunch、The Verge）
- 社区讨论（Reddit、Hacker News）
- 官方文档和资料（维基百科、百度百科）

---

#### Skill 4: 创作协作文档
**文件**: `skills/04-create-collab-doc.md`

**核心功能**:
- 明确分工（AI 负责 / 用户负责）
- 避免混乱：用户不知道要做什么
- 提升效率：并行工作

**协作文档类型**:
- 章节协作文档（情节、对话分工）
- 人物关系协作文档（人物设定）
- 世界观设定协作文档（规则确认）
- 待确认事项清单（多个小问题）

---

#### Skill 5: 学习作者风格
**文件**: `skills/05-learn-style.md`

**核心功能**:
- 从风格指南和历史作品中提取风格特征
- 让 AI 写作时能模仿作者的风格

**风格学习来源**:
- 风格指南（`写作参考/风格指南.md`）
- 历史作品（至少 2-3 篇）

**风格特征**:
- 开头方式（直接进入、悬念开场、回忆开场）
- 叙事视角（第一人称/第三人称、多视角）
- 语言特色（简洁有力、华丽辞藻、幽默风趣）
- 节奏控制（快节奏、慢节奏、快慢结合）
- 对话风格（口语化、文学化、网络用语）

---

#### Skill 6: 使用个人素材库（⭐ 降 AI 味核心）
**文件**: `skills/06-use-personal-materials.md`

**核心功能**:
- 从个人素材库搜索真实经历、观点、案例
- 降 AI 味的核心

**使用方法**:
- 方法 A：Grep 搜索原始数据（推荐）
- 方法 B：查看已提炼素材（主题索引）

**使用原则**:
- 所有素材都是真实的
- 可以改写成长文逻辑
- 自然融入，不要生硬插入

---

### 2. 更新的 CLAUDE.md

**位置**: `CLAUDE.md`

**更新内容**:
- 添加了 Skills 1、2、4、5、6
- 更新了完整写作流程图（包含新 Skills）
- 更新了目录说明（包含 Skills 1-8）
- 更新了使用示例（反映完整流程）
- 更新了版本信息（第二阶段）

**完整流程图**:
```
用户需求
   ↓
判断任务类型
   ↓
   ├─ A. 新小说项目
   │    ↓
   │    Skill 1: 需求理解与大纲保存
   │    ↓
   │    是否需要知识调研？
   │    ├─ 是 → Skill 2: 信息搜索与知识管理
   │    └─ 否 → 进入 B 流程
   │    ↓
   │    判断是否需要协作？
   │    ├─ 需要协作 → Skill 4: 创作协作文档
   │    │    ↓
   │    │    Skill 3: 讨论章节方案
   │    │    ↓
   │    │    Skill 5: 学习作者风格（如需要）
   │    │    ↓
   │    │    Skill 6: 使用个人素材库
   │    │    ↓
   │    │    Skill 7: 创作初稿
   │    │    ↓
   │    │    Skill 8: 三遍审校
   │    │    ↓
   │    │    保存到 drafts/ 或 published/
   │    │
   │    └─ 不需要协作 → Skill 3: 讨论章节方案
   │         ↓
   │         Skill 5: 学习作者风格（如需要）
   │         ↓
   │         Skill 6: 使用个人素材库
   │         ↓
   │         Skill 7: 创作初稿
   │         ↓
   │         Skill 8: 三遍审校
   │         ↓
   │         保存到 drafts/ 或 published/
   │
   ├─ C. 修改章节
   │    ↓
   │    Skill 6: 使用个人素材库
   │    ↓
   │    Skill 7: 修改内容
   │    ↓
   │    Skill 8: 审校
   │
   ├─ D. 审校文章
   │    ↓
   │    Skill 6: 使用个人素材库（增强真实感）
   │    ↓
   │    Skill 8: 三遍审校
   │
   └─ E. 快速咨询
        ↓
        直接回答或 Skill 2
```

---

## 🎯 当前可用功能

### ✅ 可以立即使用

1. **创建小说设定**
   - 使用 Skill 1，收集需求
   - 生成设定文档到 `_briefs/`
   - 如需调研，使用 Skill 2

2. **知识调研**
   - 使用 Skill 2，搜索验证设定准确性
   - 多渠道搜索（科技媒体、社区、官方文档）
   - 保存到 `_knowledge_base/`

3. **协作分工**
   - 使用 Skill 4，创建协作文档
   - 明确 AI 和用户分工
   - 等待用户完成其任务

4. **风格学习**
   - 使用 Skill 5，学习作者风格
   - 提取风格特征（开头方式、语言、节奏等）
   - 写作时模仿作者风格

5. **讨论章节情节**
   - 使用 Skill 3，提供 3-4 个方案
   - 等待用户选择

6. **创作章节初稿**
   - 使用 Skill 7，基于确认方案写作
   - 使用素材库素材（Skill 6）
   - 使用作者风格（Skill 5）

7. **三遍审校**
   - 使用 Skill 8，系统化降 AI 味
   - 内容审校 → 风格审校 → 细节打磨

---

## 📁 完整文件列表

```
novel-writing/
├── CLAUDE.md                         ✅ 总纲（第二阶段）
├── README.md                          ✅ 使用说明
├── _briefs/                           ✅ 设定文档目录
├── _knowledge_base/                    ✅ 知识库目录
├── _collab_docs/                       ✅ 协作文档目录
├── skills/                            ✅ Skills 模板
│   ├── 01-save-outline.md              ✅ 需求理解与大纲保存
│   ├── 02-research-knowledge.md        ✅ 信息搜索与知识管理
│   ├── 03-discuss-chapter.md          ✅ 选题与章节讨论
│   ├── 04-create-collab-doc.md        ✅ 创作协作文档
│   ├── 05-learn-style.md               ✅ 学习作者风格
│   ├── 06-use-personal-materials.md     ✅ 使用个人素材库
│   ├── 07-write-draft.md               ✅ 创作章节初稿
│   └── 08-three-pass-review.md         ✅ 三遍审校（降 AI 味）
├── materials/                         ✅ 个人素材库
│   ├── 原始素材/
│   ├── 经历索引/
│   ├── 观点索引/
│   ├── 金句库/
│   └── 风格库/                      ✅ 风格库（新增）
│   └── 素材库使用指南.md            ✅ 使用指南
├── drafts/                            ✅ 草稿区
├── published/                         ✅ 成品区
├── images/                            ✅ 配图（第三阶段）
└── _logs/                             ✅ 日志
```

---

## 🚧 待实现功能（第三阶段）

### 第三阶段：自动化工作流
- **Skill 9**: 章节配图与发布
- **5 个 Hooks**:
  - Pre-Writing Hook（写作前检查）
  - Post-Writing Hook（写作后自动审校）
  - Style Learning Hook（自动学习风格）
  - Material Update Hook（素材索引更新）
  - Progress Tracking Hook（进度跟踪）

---

## 📝 使用示例

### 示例 1：开始新小说

**用户输入**:
```
我想写一部关于时间旅行的科幻小说
```

**AI 执行**:
```
我思考：
- 这是"新小说项目"类型（任务 A）
- 需要执行 Skill 1 收集需求
- 是否需要调研？涉及时间旅行，需要搜索科学理论

计划：
1. 执行 Skill 1，收集需求和创建设定
2. 执行 Skill 2，搜索时间旅行科学理论
3. 询问是否需要协作
4. 进入 B 流程写章节
```

---

### 示例 2：写新章节

**用户输入**:
```
写第3章，主角发现时间机器的真相
```

**AI 执行**:
```
我思考：
- 这是"新章节"类型（任务 B）
- 需要判断是否需要协作（可能涉及时间机器设定）
- 如果不需要协作，进入 Skill 3 讨论方案

计划：
1. 判断：是否需要协作文档？
2. 如需要，执行 Skill 4 创建协作文档
3. 执行 Skill 3，提供 3 个情节方案
4. 用户确认后，执行 Skill 5 学习风格
5. 执行 Skill 6，准备素材
6. 执行 Skill 7，创作初稿
7. 执行 Skill 8，三遍审校
```

---

## 🎓 核心设计理念

### 1. 结构化
两层判断 + 8 个 Skills，AI 不会"瞎猜"

### 2. 透明化
Think Aloud + 协作文档，用户有掌控感

### 3. 真实化
个人素材 + 风格学习 + 三遍审校，降 AI 味

### 4. 可复现
相同流程可多次使用

### 5. 灵活性
- 核心原则不可妥协（不编造数据、Think Aloud、用户确认）
- 流程可以灵活调整（跳过步骤、紧急任务）

---

## 🚀 下一步

**第三阶段**将实现：
- Skill 9：章节配图与发布
- 5 个 Hooks 文件
- 进度跟踪系统
- 完整的自动化工作流

---

**最后更新**: 2024-12-26
**版本**: 第二阶段（完善功能）
**状态**: ✅ 已完成，可立即使用
